{"ast":null,"code":"var _jsxFileName = \"/Users/gustavocarvalho/budget-dashboard/src/components/MunicipalityTimeSeriesChart.tsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from 'react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, BarElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Line, Bar } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, BarElement, Title, Tooltip, Legend);\nconst MunicipalityTimeSeriesChart = ({\n  municipalityName,\n  data,\n  chartType,\n  comparisonYear,\n  comparisonValue\n}) => {\n  _s();\n  const chartData = useMemo(() => {\n    console.log('MunicipalityTimeSeriesChart - Comparison Year:', comparisonYear);\n    console.log('MunicipalityTimeSeriesChart - Comparison Value:', comparisonValue);\n    console.log('MunicipalityTimeSeriesChart - Data:', data);\n    const datasets = [{\n      label: 'Executado',\n      data: data.map(d => d.executed),\n      backgroundColor: '#9755fe',\n      borderColor: '#9755fe',\n      borderWidth: 3,\n      pointRadius: 6,\n      pointHoverRadius: 8,\n      tension: 0.4\n    }, {\n      label: 'ReferÃªncia (OrÃ§amento Total)',\n      data: data.map(d => d.reference),\n      backgroundColor: '#6b7280',\n      borderColor: '#6b7280',\n      borderWidth: 3,\n      borderDash: [5, 5],\n      pointRadius: 6,\n      pointHoverRadius: 8,\n      tension: 0.4\n    }];\n\n    // Adicionar linha de comparaÃ§Ã£o com ano eleitoral se fornecido\n    if (comparisonYear && comparisonValue !== undefined && comparisonValue > 0) {\n      console.log('ADICIONANDO LINHA DE COMPARAÃ‡ÃƒO!');\n      datasets.push({\n        label: `ðŸ“Š ${comparisonYear} (Ano Eleitoral)`,\n        data: data.map(() => comparisonValue),\n        backgroundColor: '#ef4444',\n        borderColor: '#ef4444',\n        borderWidth: 3,\n        borderDash: [10, 5],\n        pointRadius: 0,\n        pointHoverRadius: 6,\n        tension: 0,\n        fill: false\n      });\n    }\n    return {\n      labels: data.map(d => d.year.toString()),\n      datasets\n    };\n  }, [data, comparisonYear, comparisonValue]);\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'bottom',\n        labels: {\n          font: {\n            size: 13,\n            weight: '600'\n          },\n          padding: 16,\n          usePointStyle: true\n        }\n      },\n      title: {\n        display: true,\n        text: `SÃ©rie Temporal: ${municipalityName}`,\n        font: {\n          size: 16,\n          weight: '700'\n        },\n        color: '#2e3138',\n        padding: {\n          bottom: 20\n        }\n      },\n      tooltip: {\n        callbacks: {\n          label: function (context) {\n            const label = context.dataset.label || '';\n            const value = context.parsed.y;\n            const formatted = new Intl.NumberFormat('pt-BR', {\n              style: 'currency',\n              currency: 'BRL',\n              notation: 'compact',\n              maximumFractionDigits: 1\n            }).format(value);\n            return `${label}: ${formatted}`;\n          }\n        },\n        backgroundColor: '#2e3138',\n        padding: 12,\n        titleFont: {\n          size: 14,\n          weight: '700'\n        },\n        bodyFont: {\n          size: 13\n        }\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n        ticks: {\n          callback: function (value) {\n            return new Intl.NumberFormat('pt-BR', {\n              style: 'currency',\n              currency: 'BRL',\n              notation: 'compact',\n              maximumFractionDigits: 0\n            }).format(value);\n          },\n          font: {\n            size: 12\n          },\n          color: '#6b7280'\n        },\n        grid: {\n          color: '#f5edff'\n        }\n      },\n      x: {\n        ticks: {\n          font: {\n            size: 12\n          },\n          color: '#6b7280'\n        },\n        grid: {\n          display: false\n        }\n      }\n    }\n  };\n  const ChartComponent = chartType === 'line' ? Line : Bar;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: '#ffffff',\n      borderRadius: '12px',\n      padding: '24px',\n      boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)',\n      border: '1px solid #f5edff',\n      height: '400px'\n    },\n    children: /*#__PURE__*/_jsxDEV(ChartComponent, {\n      data: chartData,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n};\n_s(MunicipalityTimeSeriesChart, \"i4eYYg6GOj65klTCDK4mhi4wfgw=\");\n_c = MunicipalityTimeSeriesChart;\nexport default MunicipalityTimeSeriesChart;\nvar _c;\n$RefreshReg$(_c, \"MunicipalityTimeSeriesChart\");","map":{"version":3,"names":["React","useMemo","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","BarElement","Title","Tooltip","Legend","Line","Bar","jsxDEV","_jsxDEV","register","MunicipalityTimeSeriesChart","municipalityName","data","chartType","comparisonYear","comparisonValue","_s","chartData","console","log","datasets","label","map","d","executed","backgroundColor","borderColor","borderWidth","pointRadius","pointHoverRadius","tension","reference","borderDash","undefined","push","fill","labels","year","toString","options","responsive","maintainAspectRatio","plugins","legend","position","font","size","weight","padding","usePointStyle","title","display","text","color","bottom","tooltip","callbacks","context","dataset","value","parsed","y","formatted","Intl","NumberFormat","style","currency","notation","maximumFractionDigits","format","titleFont","bodyFont","scales","beginAtZero","ticks","callback","grid","x","ChartComponent","borderRadius","boxShadow","border","height","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/gustavocarvalho/budget-dashboard/src/components/MunicipalityTimeSeriesChart.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ChartOptions\n} from 'chart.js';\nimport { Line, Bar } from 'react-chartjs-2';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\ninterface YearlyData {\n  year: number;\n  executed: number;\n  reference: number;\n  deviation: number;\n}\n\ninterface MunicipalityTimeSeriesChartProps {\n  municipalityName: string;\n  data: YearlyData[];\n  chartType: 'line' | 'bar';\n  comparisonYear?: number;\n  comparisonValue?: number;\n}\n\nconst MunicipalityTimeSeriesChart: React.FC<MunicipalityTimeSeriesChartProps> = ({\n  municipalityName,\n  data,\n  chartType,\n  comparisonYear,\n  comparisonValue\n}) => {\n  const chartData = useMemo(() => {\n    console.log('MunicipalityTimeSeriesChart - Comparison Year:', comparisonYear);\n    console.log('MunicipalityTimeSeriesChart - Comparison Value:', comparisonValue);\n    console.log('MunicipalityTimeSeriesChart - Data:', data);\n\n    const datasets: any[] = [\n      {\n        label: 'Executado',\n        data: data.map(d => d.executed),\n        backgroundColor: '#9755fe',\n        borderColor: '#9755fe',\n        borderWidth: 3,\n        pointRadius: 6,\n        pointHoverRadius: 8,\n        tension: 0.4\n      },\n      {\n        label: 'ReferÃªncia (OrÃ§amento Total)',\n        data: data.map(d => d.reference),\n        backgroundColor: '#6b7280',\n        borderColor: '#6b7280',\n        borderWidth: 3,\n        borderDash: [5, 5],\n        pointRadius: 6,\n        pointHoverRadius: 8,\n        tension: 0.4\n      }\n    ];\n\n    // Adicionar linha de comparaÃ§Ã£o com ano eleitoral se fornecido\n    if (comparisonYear && comparisonValue !== undefined && comparisonValue > 0) {\n      console.log('ADICIONANDO LINHA DE COMPARAÃ‡ÃƒO!');\n      datasets.push({\n        label: `ðŸ“Š ${comparisonYear} (Ano Eleitoral)`,\n        data: data.map(() => comparisonValue),\n        backgroundColor: '#ef4444',\n        borderColor: '#ef4444',\n        borderWidth: 3,\n        borderDash: [10, 5],\n        pointRadius: 0,\n        pointHoverRadius: 6,\n        tension: 0,\n        fill: false\n      });\n    }\n\n    return {\n      labels: data.map(d => d.year.toString()),\n      datasets\n    };\n  }, [data, comparisonYear, comparisonValue]);\n\n  const options: ChartOptions<'line' | 'bar'> = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'bottom',\n        labels: {\n          font: { size: 13, weight: '600' },\n          padding: 16,\n          usePointStyle: true\n        }\n      },\n      title: {\n        display: true,\n        text: `SÃ©rie Temporal: ${municipalityName}`,\n        font: { size: 16, weight: '700' },\n        color: '#2e3138',\n        padding: { bottom: 20 }\n      },\n      tooltip: {\n        callbacks: {\n          label: function(context: any) {\n            const label = context.dataset.label || '';\n            const value = context.parsed.y;\n            const formatted = new Intl.NumberFormat('pt-BR', {\n              style: 'currency',\n              currency: 'BRL',\n              notation: 'compact',\n              maximumFractionDigits: 1\n            }).format(value);\n            return `${label}: ${formatted}`;\n          }\n        },\n        backgroundColor: '#2e3138',\n        padding: 12,\n        titleFont: { size: 14, weight: '700' },\n        bodyFont: { size: 13 }\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n        ticks: {\n          callback: function(value) {\n            return new Intl.NumberFormat('pt-BR', {\n              style: 'currency',\n              currency: 'BRL',\n              notation: 'compact',\n              maximumFractionDigits: 0\n            }).format(value as number);\n          },\n          font: { size: 12 },\n          color: '#6b7280'\n        },\n        grid: { color: '#f5edff' }\n      },\n      x: {\n        ticks: {\n          font: { size: 12 },\n          color: '#6b7280'\n        },\n        grid: { display: false }\n      }\n    }\n  };\n\n  const ChartComponent = chartType === 'line' ? Line : Bar;\n\n  return (\n    <div style={{\n      backgroundColor: '#ffffff',\n      borderRadius: '12px',\n      padding: '24px',\n      boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)',\n      border: '1px solid #f5edff',\n      height: '400px'\n    }}>\n      <ChartComponent data={chartData} options={options} />\n    </div>\n  );\n};\n\nexport default MunicipalityTimeSeriesChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}